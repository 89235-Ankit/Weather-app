
<nav class="navbar navbar-dark bg-dark">
  <div class="container">
    <span class="navbar-brand mb-0 h1">Weather App</span>
  </div>
</nav>

<div class="container py-4">
  <form (ngSubmit)="onSearch()" #f="ngForm">
    <div class="row justify-content-center">
      <div class="col-12 col-md-8 col-lg-6">
        <div class="input-group mb-3">
          <input
            name="city"
            [(ngModel)]="city"
            type="text"
            class="form-control"
            placeholder="Enter location"
            required
          />
          <button class="btn btn-primary" type="submit" [disabled]="f.invalid || loading()">
            Search
          </button>
        </div>
      </div>
    </div>
  </form>

  <div class="row justify-content-center">
    <div class="col-12 col-md-8 col-lg-6">
      <div *ngIf="loading()" class="alert alert-info">Loading...</div>
      <div *ngIf="error() as e" class="alert alert-danger">{{ e }}</div>

      <!-- Call the signal and alias its VALUE -->
      <div *ngIf="data() as d" class="card shadow-sm">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-center mb-2">
            <h5 class="card-title mb-0">
              {{ d.location.name }}, {{ d.location.country }}
            </h5>
            <span class="badge text-bg-secondary">{{ d.location.localtime }}</span>
          </div>

          <div class="row align-items-center">
            <div class="col-auto">
              <img
                [src]="d.current.condition.icon"
                [alt]="d.current.condition.text"
                class="img-fluid"
                style="width:48px;height:48px"
              />
            </div>
            <div class="col">
              <div class="display-6 fw-bold">
                {{ d.current.temp_c }}Â°
                <small class="text-muted fs-6">C</small>
              </div>
              <div class="text-muted">
                {{ d.current.condition.text }}
              </div>
            </div>
          </div>

          <hr />

          <div class="row text-center g-3">
            <div class="col-6 col-md-3">
              <div class="fw-semibold">Humidity</div>
              <div>{{ d.current.humidity }}%</div>
            </div>
            <div class="col-6 col-md-3">
              <div class="fw-semibold">Wind</div>
              <div>{{ d.current.wind_kph }} km/h</div>
            </div>
            <div class="col-6 col-md-3">
